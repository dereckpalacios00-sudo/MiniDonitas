<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Las mini donitas de Dereck y Estrella</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
<style>
:root{
    --primary:#0d9488;
    --primary-dark:#0f766e;
    --accent:#f43f5e;
    --accent-soft:#fda4af;
    --bg:#f0fdfa;
    --surface:#ffffff;
    --text:#0f172a;
    --text-soft:#334155;
    --muted:#64748b;
    --border:#e2e8f0;
    --border-soft:#f1f5f9;
}

/* GENERAL */
* {
    margin:0;
    padding:0;
    box-sizing:border-box;
}

html { scroll-behavior:smooth; }

body {
    margin:0;
    font-family:'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background:var(--bg);
    color:var(--text);
    min-height:100vh;
    position:relative;
    overflow-x:hidden;
}

body::before {
    content:'';
    position:fixed;
    top:0; left:0; width:100%; height:100%;
    background:linear-gradient(165deg, var(--bg) 0%, #ccfbf1 40%, #fce7f3 100%);
    z-index:-1;
}

body::after {
    content:'';
    position:fixed;
    top:0; left:0; width:100%; height:100%;
    background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.025'/%3E%3C/svg%3E");
    pointer-events:none;
    z-index:0;
}

/* HEADER */
header {
    background:var(--surface);
    backdrop-filter:blur(20px);
    -webkit-backdrop-filter:blur(20px);
    color:var(--text);
    padding:20px 24px 24px;
    display:flex;
    flex-wrap:wrap;
    align-items:center;
    justify-content:center;
    gap:20px;
    font-family:'Playfair Display', serif;
    font-size:clamp(1.35rem, 3.5vw, 1.85rem);
    font-weight:700;
    position:sticky;
    top:0;
    z-index:100;
    opacity:0;
    transform:translateY(-20px);
    animation:fadeSlideDown .7s forwards;
    box-shadow:0 1px 0 var(--border);
    letter-spacing:-0.02em;
}
header .logo { flex:1; text-align:center; }

/* TITULOS */
.section-title {
    text-align:center;
    margin:56px 0 36px;
    font-family:'Playfair Display', serif;
    font-size:clamp(1.75rem, 4vw, 2.25rem);
    font-weight:700;
    color:var(--text);
    opacity:0;
    transform:translateY(20px);
    letter-spacing:-0.03em;
    position:relative;
}

.section-title::after {
    content:'';
    position:absolute;
    bottom:-12px;
    left:50%;
    transform:translateX(-50%);
    width:48px;
    height:3px;
    background:var(--primary);
    border-radius:2px;
}

/* CONTENEDORES */
.container {
    width:90%;
    max-width:1400px;
    margin:0 auto;
    padding:24px 0;
    position:relative;
    z-index:1;
}

::selection {
    background:var(--primary);
    color:var(--surface);
}

.valentin-box {
    background:var(--surface);
    border-radius:20px;
    padding:44px 40px;
    margin-bottom:64px;
    text-align:center;
    box-shadow:0 4px 24px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.04);
    opacity:0;
    transform:translateY(20px);
    transition:all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    border:1px solid var(--border);
    position:relative;
    overflow:hidden;
}

.valentin-box::before {
    content:'';
    position:absolute;
    top:0; left:-100%; width:100%; height:100%;
    background:linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
    transition:left 0.6s ease;
}

.valentin-box:hover::before { left:100%; }

.valentin-box:hover {
    transform:translateY(-6px);
    box-shadow:0 20px 48px rgba(0,0,0,0.1), 0 0 0 1px rgba(0,0,0,0.06);
}

.valentin-box h3 {
    color:var(--text);
    font-family:'Playfair Display', serif;
    font-size:1.65rem;
    margin-bottom:12px;
    font-weight:700;
}
.valentin-box p {
    color:var(--text-soft);
    font-size:1.05rem;
    margin:8px 0;
    font-weight:400;
}

/* PRODUCTOS */
.products {
    display:grid;
    grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
    gap:28px;
    padding:24px 0;
}

.product {
    background:var(--surface);
    border-radius:20px;
    padding:24px;
    box-shadow:0 4px 20px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.04);
    text-align:center;
    opacity:0;
    transform:translateY(30px) scale(0.98);
    transition:all 0.45s cubic-bezier(0.4, 0, 0.2, 1);
    border:1px solid var(--border);
    overflow:hidden;
    position:relative;
}

.product::before {
    content:'';
    position:absolute;
    top:0; left:0; right:0;
    height:3px;
    background:var(--primary);
    transform:scaleX(0);
    transform-origin:left;
    transition:transform 0.4s ease;
}

.product:hover::before { transform:scaleX(1); }

.product:hover {
    transform:translateY(-10px) scale(1.01);
    box-shadow:0 24px 48px rgba(0,0,0,0.12), 0 0 0 1px rgba(0,0,0,0.06);
    border-color:var(--muted);
}

.product-img {
    width:100%;
    height:220px;
    border-radius:16px;
    margin-bottom:20px;
    overflow:hidden;
    border:1px solid var(--border);
    transition:all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    position:relative;
    background:var(--border-soft);
}

.product-img::after {
    content:'Ver detalle';
    position:absolute;
    bottom:0; left:0; right:0;
    background:linear-gradient(to top, rgba(0,0,0,0.75), transparent);
    color:var(--surface);
    padding:16px;
    font-size:13px;
    font-weight:500;
    letter-spacing:0.05em;
    opacity:0;
    transform:translateY(8px);
    transition:all 0.3s ease;
}

.product-img:hover::after {
    opacity:1;
    transform:translateY(0);
}

.product-img:hover {
    border-color:var(--muted);
    box-shadow:0 12px 32px rgba(0,0,0,0.15);
    transform:scale(1.02);
}

.product-img img {
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:14px;
    transition:transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    cursor:pointer;
}

.product-img:hover img { transform:scale(1.06); }

.product h4 {
    color:var(--text);
    font-size:1.15rem;
    margin:18px 0 8px;
    font-weight:600;
    letter-spacing:-0.02em;
}
.product p {
    color:var(--text);
    font-size:1.35rem;
    font-weight:700;
    margin:8px 0;
    letter-spacing:-0.02em;
}

/* OVERLAY DEL CARRITO */
.cart-overlay {
    display:none;
    position:fixed;
    top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.4);
    backdrop-filter:blur(4px);
    z-index:999;
    opacity:0;
    transition:opacity 0.3s ease;
}
.cart-overlay.show { display:block; opacity:1; }

/* CARRITO */
#cart {
    display:none;
    position:fixed;
    top:0; right:0;
    width:420px;
    max-width:100%;
    height:100%;
    background:var(--surface);
    box-shadow:-12px 0 48px rgba(0,0,0,0.12);
    padding:0;
    z-index:1000;
    overflow-y:auto;
    transform:translateX(100%);
    transition:transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    border-left:1px solid var(--border);
}
#cart.show { display:block; transform:translateX(0); }

.cart-header {
    background:var(--primary);
    color:var(--surface);
    padding:24px 24px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    position:sticky;
    top:0;
    z-index:10;
    border-bottom:1px solid var(--primary-dark);
}
.cart-header h2 {
    margin:0;
    font-family:'Playfair Display', serif;
    font-size:1.35rem;
    font-weight:700;
}
.cart-close-btn {
    background:rgba(255,255,255,0.15);
    border:none;
    color:var(--surface);
    font-size:24px;
    cursor:pointer;
    width:40px;
    height:40px;
    display:flex;
    align-items:center;
    justify-content:center;
    border-radius:50%;
    transition:all 0.2s ease;
}
.cart-close-btn:hover {
    background:rgba(255,255,255,0.25);
    transform:scale(1.05);
}

.cart-content { padding:24px; }

.cart-item {
    padding:18px;
    margin-bottom:14px;
    background:var(--border-soft);
    border-radius:14px;
    border:1px solid var(--border);
    display:flex;
    flex-direction:column;
    gap:12px;
    transition:all 0.25s ease;
}
.cart-item:hover {
    transform:translateY(-2px);
    box-shadow:0 8px 24px rgba(0,0,0,0.08);
}

.cart-item-header {
    display:flex;
    justify-content:space-between;
    align-items:flex-start;
    gap:10px;
}
.cart-item-name {
    font-weight:600;
    font-size:1rem;
    color:var(--text-soft);
    flex:1;
}
.cart-item-remove {
    background:var(--primary);
    color:var(--surface);
    border:none;
    width:32px;
    height:32px;
    border-radius:8px;
    cursor:pointer;
    font-size:18px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all 0.2s ease;
    flex-shrink:0;
}
.cart-item-remove:hover {
    background:var(--accent);
    transform:scale(1.08);
}

.cart-item-details {
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.cart-item-price {
    font-size:1.05rem;
    font-weight:700;
    color:var(--text);
}
.cart-item-controls {
    display:flex;
    align-items:center;
    gap:10px;
}
.qty-btn {
    background:var(--primary);
    color:var(--surface);
    border:none;
    padding:6px 14px;
    border-radius:10px;
    cursor:pointer;
    font-size:1rem;
    font-weight:600;
    min-width:36px;
    height:36px;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all 0.2s ease;
}
.qty-btn:hover {
    background:var(--primary-dark);
    transform:scale(1.05);
}
.qty-btn:active { transform:scale(0.96); }
.cart-item-qty {
    font-weight:700;
    font-size:1rem;
    min-width:28px;
    text-align:center;
    color:var(--text);
}

.cart-total-section {
    background:var(--border-soft);
    padding:28px 24px;
    margin:28px 0;
    border-radius:16px;
    border:2px solid var(--border);
    position:relative;
    overflow:hidden;
}

.cart-total-section::before {
    content:'';
    position:absolute;
    top:0; left:0; right:0;
    height:3px;
    background:var(--primary);
}
.cart-total-section h3 {
    margin:0;
    font-size:1.15rem;
    color:var(--text-soft);
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.cart-total-amount {
    font-size:1.65rem;
    font-weight:700;
    color:var(--text);
}

.cart-section {
    margin:22px 0;
    padding:20px;
    background:var(--border-soft);
    border-radius:14px;
    border:1px solid var(--border);
}
.cart-section b {
    display:block;
    margin-bottom:12px;
    font-size:0.75rem;
    color:var(--text-soft);
    text-transform:uppercase;
    letter-spacing:0.08em;
    font-weight:600;
}

/* BOTONES */
input, select {
    width:100%;
    padding:14px 18px;
    margin-top:10px;
    border-radius:12px;
    border:1px solid var(--border);
    font-size:1rem;
    transition:all 0.25s ease;
    box-sizing:border-box;
    background:var(--surface);
    font-family:'Outfit', sans-serif;
    font-weight:400;
    color:var(--text-soft);
}
input:focus, select:focus {
    outline:none;
    border-color:var(--primary);
    box-shadow:0 0 0 3px rgba(13,148,136,0.2);
}
input::placeholder { color:var(--muted); }

.payment-buttons {
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-top:12px;
}
.payment-btn {
    background:var(--surface);
    border:2px solid var(--border);
    padding:12px 18px;
    border-radius:12px;
    cursor:pointer;
    font-size:0.95rem;
    font-weight:600;
    transition:all 0.2s ease;
    flex:1;
    min-width:100px;
    color:var(--text-soft);
}
.payment-btn:hover {
    border-color:var(--muted);
    background:var(--border-soft);
}
.payment-btn.active {
    background:var(--primary);
    color:var(--surface);
    border-color:var(--primary);
}

.btn-wsp {
    display:block;
    text-align:center;
    background:var(--primary);
    color:var(--surface);
    padding:18px 28px;
    border-radius:14px;
    margin-top:28px;
    text-decoration:none;
    font-size:1.05rem;
    font-weight:600;
    transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow:0 8px 24px rgba(13,148,136,0.3);
    font-family:'Outfit', sans-serif;
    letter-spacing:0.02em;
}
.btn-wsp:hover {
    transform:translateY(-4px);
    box-shadow:0 14px 36px rgba(13,148,136,0.4);
    background:var(--primary-dark);
}
.btn-wsp:active { transform:translateY(0); }

.empty-cart {
    text-align:center;
    padding:48px 24px;
    color:var(--muted);
}
.empty-cart-icon {
    font-size:3.5rem;
    margin-bottom:16px;
    opacity:0.4;
}
.empty-cart-text {
    font-size:1rem;
    font-weight:500;
}

/* FLOTANTE */
.cart-float {
    position:fixed;
    bottom:28px;
    right:28px;
    background:var(--primary);
    color:var(--surface);
    border-radius:50%;
    width:64px;
    height:64px;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:28px;
    cursor:pointer;
    box-shadow:0 12px 36px rgba(13,148,136,0.35);
    transition:all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    z-index:998;
    border:2px solid var(--surface);
}
.cart-float:hover { 
    transform:scale(1.08);
    box-shadow:0 16px 44px rgba(13,148,136,0.45);
    background:var(--primary-dark);
}
.cart-float-badge {
    position:absolute;
    top:-4px;
    right:-4px;
    background:var(--accent);
    color:var(--surface);
    border-radius:50%;
    width:24px;
    height:24px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:11px;
    font-weight:700;
    border:2px solid var(--surface);
    animation:pulse 2s infinite;
}
.cart-float-badge.hidden { display:none; }
@keyframes pulse {
    0%, 100% { transform:scale(1); }
    50% { transform:scale(1.08); }
}

/* MENSAJE AGREGADO */
#addedMsg {
    display:none;
    position:fixed;
    bottom:110px;
    right:28px;
    background:var(--primary);
    color:var(--surface);
    padding:14px 22px;
    border-radius:12px;
    font-size:0.95rem;
    font-weight:600;
    z-index:3000;
    box-shadow:0 10px 32px rgba(0,0,0,0.25);
    animation:slideUp 0.3s ease;
    font-family:'Outfit', sans-serif;
    letter-spacing:0.02em;
}

@keyframes slideUp {
    from { opacity:0; transform:translateY(16px); }
    to { opacity:1; transform:translateY(0); }
}

/* MODAL DE PRODUCTO */
.product-modal {
    display:none;
    position:fixed;
    top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.5);
    backdrop-filter:blur(6px);
    z-index:2000;
    justify-content:center;
    align-items:center;
    padding:24px;
    overflow-y:auto;
}

.product-modal.show { display:flex; }

.modal-content {
    background:var(--surface);
    border-radius:20px;
    max-width:900px;
    width:100%;
    max-height:90vh;
    overflow-y:auto;
    position:relative;
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:32px;
    padding:36px;
    box-shadow:0 24px 64px rgba(0,0,0,0.2);
    border:1px solid var(--border);
}

.modal-close {
    position:absolute;
    top:20px;
    right:20px;
    background:var(--border-soft);
    border:none;
    font-size:24px;
    cursor:pointer;
    color:var(--text-soft);
    width:44px;
    height:44px;
    display:flex;
    align-items:center;
    justify-content:center;
    border-radius:50%;
    transition:all 0.2s ease;
}

.modal-close:hover {
    background:var(--primary);
    color:var(--surface);
    transform:scale(1.05);
}

.modal-image-section {
    display:flex;
    flex-direction:column;
    gap:16px;
}

.modal-main-image {
    width:100%;
    height:400px;
    border-radius:16px;
    overflow:hidden;
    background:var(--border-soft);
    border:1px solid var(--border);
}

.modal-main-image img {
    width:100%;
    height:100%;
    object-fit:cover;
}

.modal-thumbnails {
    display:flex;
    gap:10px;
    justify-content:center;
}

.modal-thumbnail {
    width:80px;
    height:80px;
    border-radius:12px;
    overflow:hidden;
    cursor:pointer;
    border:2px solid transparent;
    transition:all 0.25s ease;
}

.modal-thumbnail:hover {
    border-color:var(--muted);
    transform:scale(1.05);
    box-shadow:0 4px 16px rgba(0,0,0,0.12);
}

.modal-thumbnail.active {
    border-color:var(--primary);
    border-width:2px;
    box-shadow:0 4px 16px rgba(13,148,136,0.25);
}

.modal-thumbnail img {
    width:100%;
    height:100%;
    object-fit:cover;
}

.modal-details-section {
    display:flex;
    flex-direction:column;
    gap:24px;
}

.modal-category {
    font-size:0.8rem;
    color:var(--muted);
    margin-bottom:4px;
    text-transform:uppercase;
    letter-spacing:0.1em;
}

.modal-title {
    font-family:'Playfair Display', serif;
    font-size:clamp(1.5rem, 3vw, 2rem);
    font-weight:700;
    color:var(--text);
    margin:0;
    letter-spacing:-0.02em;
}

.modal-price {
    font-size:2rem;
    font-weight:700;
    color:var(--text);
    margin:8px 0;
    letter-spacing:-0.02em;
}

.modal-description {
    font-size:1rem;
    color:var(--text-soft);
    line-height:1.65;
}

.modal-options {
    display:flex;
    flex-direction:column;
    gap:24px;
    margin-top:8px;
}

.modal-option-group {
    display:flex;
    flex-direction:column;
    gap:12px;
}

.modal-option-label {
    font-weight:600;
    font-size:0.8rem;
    color:var(--text-soft);
    text-transform:uppercase;
    letter-spacing:0.08em;
}

.modal-quantity-selector {
    display:flex;
    align-items:center;
    gap:16px;
}

.quantity-btn {
    background:var(--primary);
    color:var(--surface);
    border:none;
    width:44px;
    height:44px;
    border-radius:12px;
    cursor:pointer;
    font-size:1.25rem;
    display:flex;
    align-items:center;
    justify-content:center;
    transition:all 0.2s ease;
}

.quantity-btn:hover {
    background:var(--primary-dark);
    transform:scale(1.05);
}

.quantity-btn:active { transform:scale(0.96); }

.quantity-value {
    font-size:1.2rem;
    font-weight:700;
    min-width:44px;
    text-align:center;
    color:var(--text);
}

.modal-add-cart-btn {
    background:var(--primary);
    color:var(--surface);
    border:none;
    padding:20px 36px;
    border-radius:14px;
    font-size:1.1rem;
    font-weight:600;
    cursor:pointer;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:12px;
    transition:all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    margin-top:16px;
    box-shadow:0 8px 28px rgba(0,0,0,0.2);
    font-family:'Outfit', sans-serif;
    letter-spacing:0.02em;
}

.modal-add-cart-btn:hover {
    transform:translateY(-4px);
    box-shadow:0 16px 40px rgba(13,148,136,0.35);
    background:var(--primary-dark);
}

.modal-add-cart-btn:active { transform:translateY(0); }

@media (max-width:768px) {
    header { flex-direction:column; gap:16px; padding:20px 16px; }
    header .logo { font-size:1.25rem; }
    .modal-content {
        grid-template-columns:1fr;
        padding:24px;
        gap:24px;
    }
    .modal-main-image { height:280px; }
    #cart { width:100%; max-width:100%; }
    .cart-float {
        width:56px;
        height:56px;
        font-size:24px;
        bottom:20px;
        right:20px;
    }
    .valentin-box { padding:32px 24px; }
    .section-title { margin:40px 0 28px; }
    .lima-banner { font-size:0.9rem; padding:12px 16px; }
}

/* ANIMACIONES */
@keyframes fadeSlideDown {
    to { opacity:1; transform:translateY(0); }
}

.product {
    animation:fadeInUp 0.6s ease forwards;
}
.products .product:nth-child(1) { animation-delay:0.05s; }
.products .product:nth-child(2) { animation-delay:0.1s; }
.products .product:nth-child(3) { animation-delay:0.15s; }
.products .product:nth-child(4) { animation-delay:0.2s; }
.products .product:nth-child(5) { animation-delay:0.25s; }
.products .product:nth-child(6) { animation-delay:0.3s; }

@keyframes fadeInUp {
    from {
        opacity:0;
        transform:translateY(30px) scale(0.98);
    }
    to {
        opacity:1;
        transform:translateY(0) scale(1);
    }
}

/* Footer */
.site-footer {
    text-align:center;
    padding:48px 24px 32px;
    margin-top:24px;
    border-top:1px solid var(--border);
    color:var(--muted);
    font-size:0.9rem;
    font-weight:500;
}

/* Banner Lima */
.lima-banner {
    background:linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    color:var(--surface);
    padding:14px 24px;
    border-radius:14px;
    margin-bottom:32px;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    font-size:1rem;
    font-weight:600;
    box-shadow:0 8px 24px rgba(13,148,136,0.25);
}
.lima-banner span { font-size:1.25rem; }

.cart-lima-notice {
    background:linear-gradient(135deg, rgba(13,148,136,0.12) 0%, rgba(15,118,110,0.08) 100%);
    border:1px solid rgba(13,148,136,0.3);
    border-radius:12px;
    padding:14px 18px;
    margin-bottom:20px;
    font-size:0.95rem;
    color:var(--text-soft);
    display:flex;
    align-items:center;
    gap:10px;
}
.cart-lima-notice span { font-size:1.2rem; }

.btn-wsp.disabled {
    opacity:0.5;
    pointer-events:none;
    cursor:not-allowed;
}

/* Scrollbar personalizado */
::-webkit-scrollbar { width:8px; height:8px; }

::-webkit-scrollbar-track {
    background:var(--border-soft);
    border-radius:8px;
}

::-webkit-scrollbar-thumb {
    background:var(--muted);
    border-radius:8px;
}

::-webkit-scrollbar-thumb:hover {
    background:var(--muted);
}
</style>
</head>
<body>

<header>
    <span class="logo">Las mini donitas de Dereck y Estrella</span>
</header>

<div class="container">
    <div class="lima-banner">
        <span>üìç</span> Delivery solo a todo Lima
    </div>
    <div class="section-title">üíò D√≠a de San Valent√≠n üíò</div>
    <div class="valentin-box">
        <h3>Especial San Valent√≠n</h3>
        <p>Mini donitas para regalar con mucho amor ‚ù§Ô∏èü•∞</p>
        <p>Reserva con anticipaci√≥n üíå</p>
    </div>

    <div class="products">
        <div class="product">
            <div class="product-img" onclick="openProductModal('Combo San Valent√≠n de 5 mini donitas', 8, 'img/Donas san valentin 2.png', 'Combo especial para San Valent√≠n con 5 deliciosas mini donitas decoradas con tem√°tica rom√°ntica. Perfecto para compartir con tu persona especial.')">
                <img src="img/Donas san valentin 2.png" alt="Combo San Valent√≠n de 5 mini donitas">
            </div>
            <h4>Combo San Valent√≠n de 5 mini donitas</h4>
            <p>S/ 12</p>
        </div>
        <div class="product">
            <div class="product-img" onclick="openProductModal('Combo Cupido de 6 mini donas', 10, 'img/donas san valentin 1.png', 'Combo Cupido con 6 mini donas especiales, ideales para expresar tu amor. Incluye decoraciones tem√°ticas y sabores √∫nicos.')">
                <img src="img/donas san valentin 1.png" alt="Combo Cupido de 6 mini donas">
            </div>
            <h4>Combo Cupido de 6 mini donas</h4>
            <p>S/ 8</p>
        </div>
    </div>

    <div class="section-title">üç© Nuestros Combos de Mini Donitas üç©</div>
    <div class="products" id="productList"></div>

    <footer class="site-footer">
        Hecho con ‚ù§Ô∏è ¬∑ Mini donitas de Dereck y Estrella
    </footer>
</div>

<!-- Modal de Producto -->
<div id="productModal" class="product-modal">
    <div class="modal-content">
        <button class="modal-close" onclick="closeProductModal()">√ó</button>
        <div class="modal-image-section">
            <div class="modal-main-image">
                <img id="modalMainImage" src="" alt="Producto">
            </div>
            <div class="modal-thumbnails" id="modalThumbnails"></div>
        </div>
        <div class="modal-details-section">
            <div class="modal-category" id="modalCategory">Combo</div>
            <h2 class="modal-title" id="modalTitle"></h2>
            <div class="modal-price" id="modalPrice"></div>
            <p class="modal-description" id="modalDescription"></p>
            <div class="modal-options">
                <div class="modal-option-group">
                    <label class="modal-option-label">Cantidad</label>
                    <div class="modal-quantity-selector">
                        <button class="quantity-btn" onclick="changeModalQuantity(-1)">-</button>
                        <span class="quantity-value" id="modalQuantity">1</span>
                        <button class="quantity-btn" onclick="changeModalQuantity(1)">+</button>
                    </div>
                </div>
                <button class="modal-add-cart-btn" onclick="addFromModal()">
                    üõí A√±adir al carrito
                </button>
            </div>
        </div>
    </div>
</div>

<div class="cart-overlay" id="cartOverlay" onclick="toggleCart()"></div>

<div id="cart">
    <div class="cart-header">
        <h2>üõí Carrito</h2>
        <button class="cart-close-btn" onclick="toggleCart()">√ó</button>
    </div>
    
    <div class="cart-content">
        <div id="cartItems"></div>
        
        <div class="cart-total-section">
            <h3>
                <span>Total:</span>
                <span class="cart-total-amount">S/ <span id="total">0</span></span>
            </h3>
        </div>

        <div class="cart-lima-notice">
            <span>üìç</span> Delivery solo a todo Lima. Indica tu direcci√≥n dentro de Lima.
        </div>

        <div class="cart-section" id="cartFormSection">
            <b>Datos del pedido:</b>
            <input id="clientName" placeholder="Nombre completo">
            <input id="clientAddress" placeholder="Direcci√≥n en Lima (ej. distrito, calle, ref.)">
            <input id="clientDate" type="date">
            <input id="giftMessage" placeholder="Mensaje para regalo (opcional)">
        </div>

        <div class="cart-section">
            <b>Pago con:</b>
            <div class="payment-buttons">
                <button class="payment-btn" id="yapeBtn" onclick="setPayment('Yape')">üí≥ Yape</button>
            </div>
            <div id="qrPayment" style="text-align:center; margin-top:15px;"></div>
        </div>

        <a id="whatsappBtn" class="btn-wsp" href="#" target="_blank" onclick="return handleWhatsAppClick(event)">
            üì± Enviar pedido por WhatsApp
        </a>
    </div>
</div>

<div class="cart-float" onclick="toggleCart()">
    üõí
    <span class="cart-float-badge hidden" id="cartBadge">0</span>
</div>
<div id="addedMsg">Agregado ‚úî</div>

<script>
let products=[
    {name:"Combo 5 mini donitas",price:8,image:"img/donas de 5.png",description:"Combo con 5 deliciosas mini donitas artesanales. Variedad de sabores y decoraciones √∫nicas."},
    {name:"Combo 6 mini donitas",price:10,image:"img/6 donitas.jpeg",description:"Combo con 6 mini donitas especiales. Perfecto para compartir o disfrutar solo."},
    {name:"Combo 8 mini donitas",price:12,image:"img/8 minidonas.jpeg",description:"Combo con 8 mini donitas premium. La opci√≥n ideal para ocasiones especiales."}
];
let cart=[];
let paymentMethod="";

function handleWhatsAppClick(e) {
    if (cart.length === 0) {
        e.preventDefault();
        return false;
    }
    return true;
}

function renderProducts(){
    let html="";
    products.forEach(p=>{
        let imgSrc=p.image || "combo_default.jpg";
        let description=p.description || `${p.name} con deliciosas mini donitas artesanales. Perfecto para compartir o regalar.`;
        html+=`
        <div class="product">
            <div class="product-img" onclick="openProductModal('${p.name}',${p.price},'${imgSrc}','${description}')" style="cursor:pointer;">
                ${p.image ? `<img src="${imgSrc}">` : "Imagen aqu√≠"}
            </div>
            <h4>${p.name}</h4>
            <p>S/ ${p.price}</p>
        </div>`;
    });
    document.getElementById("productList").innerHTML=html;
    animateOnScroll();
}
renderProducts();

function addToCart(name,price){
    let prod=cart.find(p=>p.name===name);
    if(prod) prod.qty++;
    else cart.push({name,price,qty:1});
    showAdded();
    updateCart();
}

function showAdded(){
    let msg=document.getElementById("addedMsg");
    msg.style.display="block";
    setTimeout(()=> msg.style.display="none", 1200);
}

let currentModalProduct = null;
let modalQuantity = 1;

function openProductModal(name, price, image, description) {
    currentModalProduct = { name, price, image, description };
    modalQuantity = 1;
    
    document.getElementById("modalTitle").textContent = name;
    document.getElementById("modalPrice").textContent = `S/ ${price}`;
    document.getElementById("modalDescription").textContent = description;
    document.getElementById("modalMainImage").src = image;
    document.getElementById("modalQuantity").textContent = modalQuantity;
    
    // Limpiar miniaturas y agregar la imagen principal como miniatura
    let thumbnails = document.getElementById("modalThumbnails");
    thumbnails.innerHTML = `
        <div class="modal-thumbnail active" onclick="changeModalImage('${image}')">
            <img src="${image}" alt="Vista principal">
        </div>
    `;
    
    document.getElementById("productModal").classList.add("show");
    document.body.style.overflow = "hidden";
}

function closeProductModal() {
    document.getElementById("productModal").classList.remove("show");
    document.body.style.overflow = "auto";
    currentModalProduct = null;
    modalQuantity = 1;
}

function changeModalQuantity(amount) {
    modalQuantity = Math.max(1, modalQuantity + amount);
    document.getElementById("modalQuantity").textContent = modalQuantity;
}

function changeModalImage(imageSrc) {
    document.getElementById("modalMainImage").src = imageSrc;
    document.querySelectorAll(".modal-thumbnail").forEach(thumb => {
        thumb.classList.remove("active");
        if(thumb.querySelector("img").src.includes(imageSrc)) {
            thumb.classList.add("active");
        }
    });
}

function addFromModal() {
    if(currentModalProduct) {
        for(let i = 0; i < modalQuantity; i++) {
            addToCart(currentModalProduct.name, currentModalProduct.price);
        }
        closeProductModal();
    }
}

document.addEventListener("click", function(e) {
    let modal = document.getElementById("productModal");
    if(e.target === modal) closeProductModal();
});

function toggleCart(){
    let cart = document.getElementById("cart");
    let overlay = document.getElementById("cartOverlay");
    cart.classList.toggle("show");
    overlay.classList.toggle("show");
    if(cart.classList.contains("show")) {
        document.body.style.overflow = "hidden";
    } else {
        document.body.style.overflow = "auto";
    }
}

function changeQty(i,amt){
    cart[i].qty+=amt;
    if(cart[i].qty<=0) cart.splice(i,1);
    updateCart();
}

function removeFromCart(i){
    cart.splice(i,1);
    updateCart();
}

function setPayment(method){
    paymentMethod=method;
    document.getElementById("qrPayment").innerHTML='<img src="img/yape_nandy.jpeg" style="width:200px;border-radius:12px;border:1px solid #e2e8f0;box-shadow:0 8px 24px rgba(0,0,0,0.1);">';
    // Actualizar estado visual del bot√≥n
    document.querySelectorAll(".payment-btn").forEach(btn => {
        btn.classList.remove("active");
    });
    if(method === "Yape") {
        document.getElementById("yapeBtn").classList.add("active");
    }
    updateCart();
}

function updateCart(){
    let html="",total=0;
    let totalItems=0;
    
    if(cart.length === 0) {
        html = `
            <div class="empty-cart">
                <div class="empty-cart-icon">üõí</div>
                <div class="empty-cart-text">Tu carrito est√° vac√≠o</div>
            </div>
        `;
    } else {
        cart.forEach((p,i)=>{
            totalItems += p.qty;
            let itemTotal = p.price * p.qty;
            total += itemTotal;
            html += `
                <div class="cart-item">
                    <div class="cart-item-header">
                        <span class="cart-item-name">${p.name}</span>
                        <button class="cart-item-remove" onclick="removeFromCart(${i})" title="Eliminar">√ó</button>
                    </div>
                    <div class="cart-item-details">
                        <span class="cart-item-price">S/ ${itemTotal.toFixed(2)}</span>
                        <div class="cart-item-controls">
                            <button class="qty-btn" onclick="changeQty(${i},-1)">-</button>
                            <span class="cart-item-qty">${p.qty}</span>
                            <button class="qty-btn" onclick="changeQty(${i},1)">+</button>
                        </div>
                    </div>
                </div>
            `;
        });
    }
    
    document.getElementById("cartItems").innerHTML=html;
    document.getElementById("total").innerText=total.toFixed(2);
    
    // Actualizar badge del carrito flotante
    let badge = document.getElementById("cartBadge");
    if(totalItems > 0) {
        badge.textContent = totalItems;
        badge.classList.remove("hidden");
    } else {
        badge.classList.add("hidden");
    }

    let name=document.getElementById("clientName").value;
    let address=document.getElementById("clientAddress").value;
    let date=document.getElementById("clientDate").value;
    let message=document.getElementById("giftMessage").value;

    // Actualizar enlace de WhatsApp
    let whatsappText = `Pedido:%0A${
        cart.map(p=>`- ${p.name} (x${p.qty}) S/ ${(p.qty*p.price).toFixed(2)}`).join("%0A")
    }%0A%0ATotal:%20S/%20${total.toFixed(2)}%0AEntrega:%20Delivery%20-%20Solo%20Lima%0APago:%20${paymentMethod||"No seleccionado"}%0ANombre:%20${name||"No indicado"}%0ADirecci√≥n%20(Lima):%20${address||"No indicada"}%0AFecha:%20${date||"No indicada"}${
        message?`%0AMensaje:%20${message}`:""
    }`;
    
    document.getElementById("whatsappBtn").href = `https://wa.me/51942177994?text=${whatsappText}`;
    
    let btn = document.getElementById("whatsappBtn");
    if (cart.length === 0) {
        btn.style.opacity = "0.5";
        btn.style.pointerEvents = "none";
        btn.classList.add("disabled");
        btn.href = "#";
    } else {
        btn.style.opacity = "1";
        btn.style.pointerEvents = "auto";
        btn.classList.remove("disabled");
    }
}

document.querySelectorAll("input, select").forEach(el=>{
    el.addEventListener("input", updateCart);
});

/* ANIMACI√ìN SCROLL */
function animateOnScroll(){
    let elements=document.querySelectorAll(".valentin-box,.section-title,.product");
    let windowHeight=window.innerHeight;
    elements.forEach(el=>{
        let pos=el.getBoundingClientRect().top;
        if(pos<windowHeight-50){
            el.style.opacity=1;
            el.style.transform="translateY(0) scale(1)";
        }
    });
}
window.addEventListener("scroll", animateOnScroll);
</script>
</body>
</html>